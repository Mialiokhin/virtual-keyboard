const en = [
  {
    normal: "`",
    shift: "~",
    code: "Backquote",
  },
  {
    normal: "1",
    shift: "!",
    code: "Digit1",
  },
  {
    normal: "2",
    shift: "@",
    code: "Digit2",
  },
  {
    normal: "3",
    shift: "#",
    code: "Digit3",
  },
  {
    normal: "4",
    shift: "$",
    code: "Digit4",
  },
  {
    normal: "5",
    shift: "%",
    code: "Digit5",
  },
  {
    normal: "6",
    shift: "^",
    code: "Digit6",
  },
  {
    normal: "7",
    shift: "&",
    code: "Digit7",
  },
  {
    normal: "8",
    shift: "*",
    code: "Digit8",
  },
  {
    normal: "9",
    shift: "(",
    code: "Digit9",
  },
  {
    normal: "0",
    shift: ")",
    code: "Digit0",
  },
  {
    normal: "-",
    shift: "_",
    code: "Minus",
  },
  {
    normal: "=",
    shift: "+",
    code: "Equal",
  },
  {
    normal: "Backspace",
    shift: null,
    code: "Backspace",
  },
  {
    normal: "Tab",
    shift: null,
    code: "Tab",
  },
  {
    normal: "q",
    shift: "Q",
    code: "KeyQ",
  },
  {
    normal: "w",
    shift: "W",
    code: "KeyW",
  },
  {
    normal: "e",
    shift: "E",
    code: "KeyE",
  },
  {
    normal: "r",
    shift: "R",
    code: "KeyR",
  },
  {
    normal: "t",
    shift: "T",
    code: "KeyT",
  },
  {
    normal: "y",
    shift: "Y",
    code: "KeyY",
  },
  {
    normal: "u",
    shift: "U",
    code: "KeyU",
  },
  {
    normal: "i",
    shift: "I",
    code: "KeyI",
  },
  {
    normal: "o",
    shift: "O",
    code: "KeyO",
  },
  {
    normal: "p",
    shift: "P",
    code: "KeyP",
  },
  {
    normal: "[",
    shift: "{",
    code: "BracketLeft",
  },
  {
    normal: "]",
    shift: "}",
    code: "BracketRight",
  },
  {
    normal: "&bsol;",
    shift: "|",
    code: "Backslash",
  },
  {
    normal: "Del",
    shift: null,
    code: "Delete",
  },
  {
    normal: "CapsLock",
    shift: null,
    code: "CapsLock",
  },
  {
    normal: "a",
    shift: "A",
    code: "KeyA",
  },
  {
    normal: "s",
    shift: "S",
    code: "KeyS",
  },
  {
    normal: "d",
    shift: "D",
    code: "KeyD",
  },
  {
    normal: "f",
    shift: "F",
    code: "KeyF",
  },
  {
    normal: "g",
    shift: "G",
    code: "KeyG",
  },
  {
    normal: "h",
    shift: "H",
    code: "KeyH",
  },
  {
    normal: "j",
    shift: "J",
    code: "KeyJ",
  },
  {
    normal: "k",
    shift: "K",
    code: "KeyK",
  },
  {
    normal: "l",
    shift: "L",
    code: "KeyL",
  },
  {
    normal: ";",
    shift: ":",
    code: "Semicolon",
  },
  {
    normal: "'",
    shift: '"',
    code: "Quote",
  },
  {
    normal: "Enter",
    shift: null,
    code: "Enter",
  },
  {
    normal: "Shift",
    shift: null,
    code: "ShiftLeft",
  },
  {
    normal: "z",
    shift: "Z",
    code: "KeyZ",
  },
  {
    normal: "x",
    shift: "X",
    code: "KeyX",
  },
  {
    normal: "c",
    shift: "C",
    code: "KeyC",
  },
  {
    normal: "v",
    shift: "V",
    code: "KeyV",
  },
  {
    normal: "b",
    shift: "B",
    code: "KeyB",
  },
  {
    normal: "n",
    shift: "N",
    code: "KeyN",
  },
  {
    normal: "m",
    shift: "M",
    code: "KeyM",
  },
  {
    normal: ",",
    shift: "<",
    code: "Comma",
  },
  {
    normal: ".",
    shift: ">",
    code: "Period",
  },
  {
    normal: "/",
    shift: "?",
    code: "Slash",
  },
  {
    normal: "&uarr;",
    shift: null,
    code: "ArrowUp",
  },
  {
    normal: "Shift",
    shift: null,
    code: "ShiftRight",
  },
  {
    normal: "Ctrl",
    shift: null,
    code: "ControlLeft",
  },
  {
    normal: "Win",
    shift: null,
    code: "MetaLeft",
  },
  {
    normal: "Alt",
    shift: null,
    code: "AltLeft",
  },
  {
    normal: "Space",
    shift: null,
    code: "Space",
  },
  {
    normal: "Alt",
    shift: null,
    code: "AltRight",
  },
  {
    normal: "&larr;",
    shift: null,
    code: "ArrowLeft",
  },
  {
    normal: "&darr;",
    shift: null,
    code: "ArrowDown",
  },
  {
    normal: "&rarr;",
    shift: null,
    code: "ArrowRight",
  },
  {
    normal: "Ctrl",
    shift: null,
    code: "ControlRight",
  },
];

const ru = [
  {
    normal: "ё",
    shift: "Ё",
    code: "Backquote",
  },
  {
    normal: "1",
    shift: "!",
    code: "Digit1",
  },
  {
    normal: "2",
    shift: '"',
    code: "Digit2",
  },
  {
    normal: "3",
    shift: "№",
    code: "Digit3",
  },
  {
    normal: "4",
    shift: ";",
    code: "Digit4",
  },
  {
    normal: "5",
    shift: "%",
    code: "Digit5",
  },
  {
    normal: "6",
    shift: ":",
    code: "Digit6",
  },
  {
    normal: "7",
    shift: "?",
    code: "Digit7",
  },
  {
    normal: "8",
    shift: "*",
    code: "Digit8",
  },
  {
    normal: "9",
    shift: "(",
    code: "Digit9",
  },
  {
    normal: "0",
    shift: ")",
    code: "Digit0",
  },
  {
    normal: "-",
    shift: "_",
    code: "Minus",
  },
  {
    normal: "=",
    shift: "+",
    code: "Equal",
  },
  {
    normal: "Backspace",
    shift: null,
    code: "Backspace",
  },
  {
    normal: "Tab",
    shift: null,
    code: "Tab",
  },
  {
    normal: "й",
    shift: "Й",
    code: "KeyQ",
  },
  {
    normal: "ц",
    shift: "Ц",
    code: "KeyW",
  },
  {
    normal: "у",
    shift: "У",
    code: "KeyE",
  },
  {
    normal: "к",
    shift: "К",
    code: "KeyR",
  },
  {
    normal: "е",
    shift: "Е",
    code: "KeyT",
  },
  {
    normal: "н",
    shift: "Н",
    code: "KeyY",
  },
  {
    normal: "г",
    shift: "Г",
    code: "KeyU",
  },
  {
    normal: "ш",
    shift: "Ш",
    code: "KeyI",
  },
  {
    normal: "щ",
    shift: "Щ",
    code: "KeyO",
  },
  {
    normal: "з",
    shift: "З",
    code: "KeyP",
  },
  {
    normal: "х",
    shift: "Х",
    code: "BracketLeft",
  },
  {
    normal: "ъ",
    shift: "Ъ",
    code: "BracketRight",
  },
  {
    normal: "&bsol;",
    shift: "/",
    code: "Backslash",
  },
  {
    normal: "Del",
    shift: null,
    code: "Delete",
  },
  {
    normal: "CapsLock",
    shift: null,
    code: "CapsLock",
  },
  {
    normal: "ф",
    shift: "Ф",
    code: "KeyA",
  },
  {
    normal: "ы",
    shift: "Ы",
    code: "KeyS",
  },
  {
    normal: "в",
    shift: "В",
    code: "KeyD",
  },
  {
    normal: "а",
    shift: "А",
    code: "KeyF",
  },
  {
    normal: "п",
    shift: "П",
    code: "KeyG",
  },
  {
    normal: "р",
    shift: "Р",
    code: "KeyH",
  },
  {
    normal: "о",
    shift: "О",
    code: "KeyJ",
  },
  {
    normal: "л",
    shift: "Л",
    code: "KeyK",
  },
  {
    normal: "д",
    shift: "Д",
    code: "KeyL",
  },
  {
    normal: "ж",
    shift: "Ж",
    code: "Semicolon",
  },
  {
    normal: "э",
    shift: "Э",
    code: "Quote",
  },
  {
    normal: "Enter",
    shift: null,
    code: "Enter",
  },
  {
    normal: "Shift",
    shift: null,
    code: "ShiftLeft",
  },
  {
    normal: "я",
    shift: "Я",
    code: "KeyZ",
  },
  {
    normal: "ч",
    shift: "Ч",
    code: "KeyX",
  },
  {
    normal: "с",
    shift: "С",
    code: "KeyC",
  },
  {
    normal: "м",
    shift: "М",
    code: "KeyV",
  },
  {
    normal: "и",
    shift: "И",
    code: "KeyB",
  },
  {
    normal: "т",
    shift: "Т",
    code: "KeyN",
  },
  {
    normal: "ь",
    shift: "Ь",
    code: "KeyM",
  },
  {
    normal: "б",
    shift: "Б",
    code: "Comma",
  },
  {
    normal: "ю",
    shift: "Ю",
    code: "Period",
  },
  {
    normal: ".",
    shift: ",",
    code: "Slash",
  },
  {
    normal: "&uarr;",
    shift: null,
    code: "ArrowUp",
  },
  {
    normal: "Shift",
    shift: null,
    code: "ShiftRight",
  },
  {
    normal: "Ctrl",
    shift: null,
    code: "ControlLeft",
  },
  {
    normal: "Win",
    shift: null,
    code: "MetaLeft",
  },
  {
    normal: "Alt",
    shift: null,
    code: "AltLeft",
  },
  {
    normal: "Space",
    shift: null,
    code: "Space",
  },
  {
    normal: "Alt",
    shift: null,
    code: "AltRight",
  },
  {
    normal: "&larr;",
    shift: null,
    code: "ArrowLeft",
  },
  {
    normal: "&darr;",
    shift: null,
    code: "ArrowDown",
  },
  {
    normal: "&rarr;",
    shift: null,
    code: "ArrowRight",
  },
  {
    normal: "Ctrl",
    shift: null,
    code: "ControlRight",
  },
];

const VirtualKeyboard = {
  elements: {
    main: null,
    input: null,
    keysContainer: null,
    keys: [],
    language: en,
  },

  properties: {
    capsLock: false,
    shift: false,
  },

  init() {
    //create elements
    this.elements.main = document.createElement("div");
    this.elements.keysContainer = document.createElement("div");
    this.elements.input = document.createElement("textarea");
    this.elements.main.classList.add("keyboard");
    this.elements.input.classList.add("keyboard__input");
    this.elements.input.placeholder = "Click here";
    this.elements.keysContainer.classList.add("keyboard__keys");
    this.elements.keysContainer.appendChild(this._renderKeys());
    this.elements.keys =
        this.elements.keysContainer.querySelectorAll(".keyboard__key");

    //add to DOM
    this.elements.main.appendChild(this.elements.input);
    this.elements.main.appendChild(this.elements.keysContainer);
    document.body.appendChild(this.elements.main);
  },

  _renderKeys() {
    const fragment = document.createDocumentFragment();

    this.elements["language"].forEach((key) => {
      const keyboardKey = document.createElement("button");
      const addTagBr =
          ["Backspace", "Delete", "Enter", "ShiftRight"].indexOf(key["code"]) !==
          -1;
      keyboardKey.classList.add("keyboard__key");
      keyboardKey.dataset.code = key["code"];
      keyboardKey.setAttribute("type", "button");


      //chose style to key
      switch (key["code"]) {
        case "Backspace":
          keyboardKey.classList.add("keyboard__key_large");
          keyboardKey.dataset.code = key["code"];
          keyboardKey.innerHTML = key["normal"];
          break;

        case "Tab":
          keyboardKey.classList.add("keyboard__key_tab");
          keyboardKey.dataset.code = key["code"];
          keyboardKey.innerHTML = key["normal"];
          break;

        case "Backslash":
          keyboardKey.classList.add("keyboard__key");
          keyboardKey.dataset.code = key["code"];
          keyboardKey.innerHTML = key["normal"];
          break;

        case "CapsLock":
          keyboardKey.classList.add("keyboard__key_large");
          keyboardKey.dataset.code = key["code"];
          keyboardKey.innerHTML = key["normal"];
          break;

        case "Enter":
          keyboardKey.classList.add("keyboard__key_large");
          keyboardKey.dataset.code = key["code"];
          keyboardKey.innerHTML = key["normal"];
          break;

        case "ShiftLeft":
          keyboardKey.classList.add("keyboard__key_large");
          keyboardKey.dataset.code = key["code"];
          keyboardKey.innerHTML = key["normal"];
          break;

        case "ShiftRight":
          keyboardKey.classList.add("keyboard__key_large");
          keyboardKey.dataset.code = key["code"];
          keyboardKey.innerHTML = key["normal"];
          break;

        case "Space":
          keyboardKey.classList.add("keyboard__key_largest");
          keyboardKey.dataset.code = key["code"];
          keyboardKey.innerHTML = key["normal"];
          break;

        default:
          keyboardKey.innerHTML = key["normal"];
          break;
      }

      fragment.appendChild(keyboardKey);

      if (addTagBr) {
        fragment.appendChild(document.createElement("br"));
      }
    });

    return fragment;
  },
};
window.addEventListener("DOMContentLoaded", function () {
  VirtualKeyboard.init();
});
